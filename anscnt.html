<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counter App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    $(document).ready(function() {
        // Function to update the counter
        function updateCounter() {
            var n1 = parseInt($('#n1').val());
            var n2 = parseInt($('#n2').val());
            var np = parseFloat($('#np').val()) / 100;


            var factPerc = (n1 / n2);
            $('#factPerc').text(factPerc * 100 + '%   ');

             var countCorrectAnswers = 0;

            if (np > factPerc) {
                countCorrectAnswers = (np * n2 - n1) / (1 - np);
            } else if (np < factPerc) {
                countCorrectAnswers = (n1 - np * n2) / np;
            } else {
                countCorrectAnswers = 0; // If np equals factPerc, no additional correct answers needed
            }

            //var countCorrectAnswers = (np*n2-n1) / (1-np);

            $('#countCorrectAnswers').val(countCorrectAnswers);
        }

        // Event listeners for input changes
        $('#n1, #n2, #np').on('input', updateCounter);

        // Initial update
        updateCounter();
    });
</script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Counter App</h1>
            <div class="row">
                <div class="mb-3 col d-flex flex-column justify-content-center">
                    <label for="np">Desired percentage:</label>
                    <div class="input-group">
                        <input type="number" class="form-control" id="np" value="94" min="0" step="0.2"/>
                        <span class="input-group-text">%</span>
                    </div>                    
                </div>
                
            </div>

            <div class="row">
                <label>Fact:</label>
                <div class="mb-3 col-10 d-flex flex-column justify-content-center">
                    <input type="number" class="form-control" id="n1" value="1177" min="0"/>
                    <hr/>
                    <input type="number" class="form-control" id="n2" value="1253" min="1"/>
                </div>
                <div class="mb-3 col-2 d-flex align-items-center">
                    <div>=</div>&nbsp;
                    <div id="factPerc">###</div>
                </div>
            </div>

            <div class="row">
                <label>You need:</label>
                <div class="mb-3 col d-flex flex-column justify-content-center">
                    <div class="input-group">
                        <input type="number" class="form-control text-end" id="countCorrectAnswers" value="000" readonly />
                        <span class="input-group-text">correct answers</span>
                    </div>
                </div>
            </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>